# DocChat — Локальный RAG-Агент на FastAPI

**DocChat** — это интеллектуальный ассистент, который отвечает на вопросы, используя только локальные документы.  
Он построен на принципах **Retrieval-Augmented Generation (RAG)** и не требует подключения к интернету или API ключей.

---

## Возможности

- Извлекает релевантные тексты из локальной базы (`ChromaDB`);
- Генерирует ответы с помощью русскоязычной модели `cointegrated/rut5-base-multitask`;
- Работает в CLI и через **веб-интерфейс (FastAPI)**;
- Использует собственную базу `.txt` документов (в папке `data/`);
- Показывает источники, откуда был взят ответ.

---

## Стек технологий

| Компонент                      | Описание                                              |
| ------------------------------ | ----------------------------------------------------- |
| **Python 3.10+**               | Основной язык                                         |
| **Transformers (HuggingFace)** | LLM для генерации ответов                             |
| **ChromaDB**                   | Векторное хранилище для поиска релевантных документов |
| **Sentence-Transformers**      | Генерация эмбеддингов при построении индекса          |
| **FastAPI**                    | Веб-интерфейс                                         |
| **Jinja2 + Tailwind CSS**      | Шаблоны и стилизация                                  |
| **Uvicorn**                    | Локальный сервер                                      |

---

## Структура проекта

```yaml
agent/
├── data/ # Текстовые документы для индексации
├── chroma_db/ # Локальное хранилище эмбеддингов
├── templates/ # HTML-шаблоны (index.html)
├── static/ # Стили (style.css)
├── agent.py # CLI-версия агента
├── build_index.py # Создание базы ChromaDB
├── web_app.py # Веб-интерфейс (FastAPI)
├── requirements.txt
└── README.md
```

## Установка и настройка

1. Клонировать проект и перейти в папку:

```bash
cd models/agent
```

2. Создать виртуальное окружение:

```bash
python -m venv env
env\Scripts\activate
```

3. Установить зависимости:

```bash
pip install -r requirements.txt
```

4. Построить индекс:

```bash
python build_index.py
```

## Запуск CLI-агента

```bash
python agent.py
```

## Пример

> Что делает модуль video?
> --- Answer ---
> Модуль video выполняет обработку видеороликов, извлекая кадры и классифицируя их при помощи нейросетей.
> --- Sources ---
> [Doc 1 - video_module.txt]

## Запуск веб-интерфейса

```bash
python web_app.py
```

Затем открой http://127.0.0.1:8000
и задай вопрос прямо через браузер

## Используемая модель

Модель: cointegrated/rut5-base-multitask

- Русскоязычная T5-модель, оптимизированная для заданий Q&A, суммаризации и перефразирования.

- Работает офлайн, не требует токенов Hugging Face.
